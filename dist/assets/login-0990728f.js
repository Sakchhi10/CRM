import{u as M,r as L,a as T,g as W,b as F,s as k,B as z,_ as f,c as I,d as D,e as O,f as U,h as A,j as i,i as G,k as H,l as Y,m as V,n as J,o as K,W as Q,p as X,q as Z,t as N,S as P,T as C,I as oo,v as to,w as no}from"./index-1fd840db.js";import{C as R,u as io,c as ao,a as $}from"./formik.esm-a9d3f7f6.js";import{L as so}from"./logo-70e13318.js";import{C as eo}from"./Card-e0dc669d.js";import{T as E}from"./TextField-3a3c8311.js";import{L as ro}from"./Link-50d810e6.js";import"./isMuiElement-7b6b743b.js";import"./Select-2e55c97a.js";import"./Menu-bd5bbb60.js";function lo(){const t=M();return L.useMemo(()=>({back:()=>t(-1),forward:()=>t(1),reload:()=>window.location.reload(),push:n=>t(n),replace:n=>t(n,{replace:!0})}),[t])}var w={},q={exports:{}};(function(t){function o(n){return n&&n.__esModule?n:{default:n}}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(q);var co=q.exports,uo=co;Object.defineProperty(w,"__esModule",{value:!0});var go=w.default=S,b=uo(T());function S(t,o){const n=(0,b.default)({},o);return Object.keys(t).forEach(a=>{if(a.toString().match(/^(components|slots)$/))n[a]=(0,b.default)({},t[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){const e=t[a]||{},s=o[a];n[a]={},!s||!Object.keys(s)?n[a]=e:!e||!Object.keys(e)?n[a]=s:(n[a]=(0,b.default)({},s),Object.keys(e).forEach(r=>{n[a][r]=S(e[r],s[r])}))}else n[a]===void 0&&(n[a]=t[a])}),n}function ho(t){return F("MuiLoadingButton",t)}const fo=W("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),d=fo,xo=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],po=t=>{const{loading:o,loadingPosition:n,classes:a}=t,e={root:["root",o&&"loading"],startIcon:[o&&`startIconLoading${I(n)}`],endIcon:[o&&`endIconLoading${I(n)}`],loadingIndicator:["loadingIndicator",o&&`loadingIndicator${I(n)}`]},s=G(e,ho,a);return f({},a,s)},mo=t=>t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"&&t!=="classes",vo=k(z,{shouldForwardProp:t=>mo(t)||t==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,o)=>[o.root,o.startIconLoadingStart&&{[`& .${d.startIconLoadingStart}`]:o.startIconLoadingStart},o.endIconLoadingEnd&&{[`& .${d.endIconLoadingEnd}`]:o.endIconLoadingEnd}]})(({ownerState:t,theme:o})=>f({[`& .${d.startIconLoadingStart}, & .${d.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},t.loadingPosition==="center"&&{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${d.loading}`]:{color:"transparent"}},t.loadingPosition==="start"&&t.fullWidth&&{[`& .${d.startIconLoadingStart}, & .${d.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginRight:-8}},t.loadingPosition==="end"&&t.fullWidth&&{[`& .${d.startIconLoadingStart}, & .${d.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginLeft:-8}})),Io=k("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.loadingIndicator,o[`loadingIndicator${I(n.loadingPosition)}`]]}})(({theme:t,ownerState:o})=>f({position:"absolute",visibility:"visible",display:"flex"},o.loadingPosition==="start"&&(o.variant==="outlined"||o.variant==="contained")&&{left:o.size==="small"?10:14},o.loadingPosition==="start"&&o.variant==="text"&&{left:6},o.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},o.loadingPosition==="end"&&(o.variant==="outlined"||o.variant==="contained")&&{right:o.size==="small"?10:14},o.loadingPosition==="end"&&o.variant==="text"&&{right:6},o.loadingPosition==="start"&&o.fullWidth&&{position:"relative",left:-10},o.loadingPosition==="end"&&o.fullWidth&&{position:"relative",right:-10})),Lo=L.forwardRef(function(o,n){const a=L.useContext(D),e=go(a,o),s=O({props:e,name:"MuiLoadingButton"}),{children:r,disabled:x=!1,id:p,loading:c=!1,loadingIndicator:m,loadingPosition:v="center",variant:l="text"}=s,u=U(s,xo),g=A(p),j=m??i.jsx(R,{"aria-labelledby":g,color:"inherit",size:16}),h=f({},s,{disabled:x,loading:c,loadingIndicator:j,loadingPosition:v,variant:l}),y=po(h),B=c?i.jsx(Io,{className:y.loadingIndicator,ownerState:h,children:j}):null;return i.jsxs(vo,f({disabled:x||c,id:g,ref:n},u,{variant:l,classes:y,ownerState:h,children:[h.loadingPosition==="end"?r:B,h.loadingPosition==="end"?B:r]}))}),_=Lo;function ko(){const t=H(),o=Y(),n=lo(),[a,e]=L.useState(!1),{loading:s,error:r}=V(g=>g.auth);console.log(r);const x=io({initialValues:{email:"",password:""},validationSchema:ao({email:$().email("Invalid email address").required("Required"),password:$().required("Required")}),onSubmit:g=>{o(J()),o(K(g)).then(()=>{n.push("/")}).catch(j=>{console.error("Login failed:",r)})}}),{values:p,handleChange:c,handleSubmit:m,handleBlur:v,touched:l,errors:u}=x;return i.jsxs(i.Fragment,{children:[i.jsx(Q,{children:i.jsx("title",{children:" Login | Hemtej Sea Foods "})}),i.jsxs(X,{sx:{...Z({color:N(t.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[i.jsx(so,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),i.jsx(P,{alignItems:"center",justifyContent:"center",sx:{height:1},children:i.jsxs(eo,{sx:{p:5,width:1,maxWidth:420},children:[i.jsx(C,{variant:"h4",paddingY:2,children:"Sign in to Hemtej Sea Foods"}),i.jsxs("form",{onSubmit:m,children:[i.jsxs(P,{spacing:3,marginY:4,children:[i.jsx(E,{name:"email",label:"Email address",autoComplete:"current-email",value:p.email,onChange:c,onBlur:v,error:l.email&&!!u.email,helperText:l.email&&u.email}),i.jsx(E,{name:"password",label:"Password",value:p.password,onChange:c,onBlur:v,autoComplete:"current-password",type:a?"Text":"password",error:l.password&&!!u.password,helperText:l.password&&u.password,InputProps:{endAdornment:i.jsx(oo,{position:"end",children:i.jsx(to,{onClick:()=>e(!a),edge:"end",children:i.jsx(no,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),i.jsx(P,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:i.jsx(ro,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),s?i.jsx(_,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:s,loadingPosition:"start",startIcon:i.jsx(R,{size:20}),children:"Submitting..."}):i.jsx(_,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Login"})]}),r?i.jsxs(C,{variant:"body1",color:"error",sx:{my:2},textAlign:"center",children:["Error : ",r]}):null]})})]})]})}export{ko as default};
